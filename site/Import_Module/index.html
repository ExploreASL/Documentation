
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://github.com/ExploreASL/Documentation/1.10.0beta/Import_Module/">
      
      <link rel="icon" href="../img/favicon/favicon-96x96.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.1.9">
    
    
      
        <title>Module Import - ExploreASL</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.2b4465f4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#submodules-of-the-import-module" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        <aside class="md-banner md-banner--warning">
          
        </aside>
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="ExploreASL" class="md-header__button md-logo" aria-label="ExploreASL" data-md-component="logo">
      
  <img src="../img/favicon/brain_icon_500x500.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ExploreASL
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Module Import
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ExploreASL/Documentation/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="ExploreASL" class="md-nav__button md-logo" aria-label="ExploreASL" data-md-component="logo">
      
  <img src="../img/favicon/brain_icon_500x500.png" alt="logo">

    </a>
    ExploreASL
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ExploreASL/Documentation/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" data-md-state="indeterminate" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Tutorials
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tutorials" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Tutorials-Install/" class="md-nav__link">
        Tutorials (Install)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Tutorials-Execution/" class="md-nav__link">
        Tutorials (Execution)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Tutorials-Import/" class="md-nav__link">
        Tutorials (Import)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Tutorials-Processing/" class="md-nav__link">
        Tutorials (Processing)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Tutorials-QC/" class="md-nav__link">
        Tutorials (QC)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Tutorials-Developer/" class="md-nav__link">
        Tutorials (Developer)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Reference manuals
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Reference manuals" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Reference manuals
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Modules/" class="md-nav__link">
        Modules
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Module Import
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Module Import
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#xasl_bids_addgeneratedbyfieldm" class="md-nav__link">
    xASL_bids_AddGeneratedByField.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_bids_bids2legacym" class="md-nav__link">
    xASL_bids_BIDS2Legacy.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_bids_bids2legacy_compilepathsforcopyingm" class="md-nav__link">
    xASL_bids_BIDS2Legacy_CompilePathsForCopying.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_bids_bids2legacy_managesidecarsm" class="md-nav__link">
    xASL_bids_BIDS2Legacy_ManageSidecars.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_bids_bids2legacy_parsemodalitym" class="md-nav__link">
    xASL_bids_BIDS2Legacy_ParseModality.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_bids_bids2legacy_parsescantypem" class="md-nav__link">
    xASL_bids_BIDS2Legacy_ParseScanType.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_bids_bids2xasl_copyfilem" class="md-nav__link">
    xASL_bids_BIDS2xASL_CopyFile.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_appendniftiparametersm" class="md-nav__link">
    xASL_imp_AppendNiftiParameters.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_appendparmsparametersm" class="md-nav__link">
    xASL_imp_AppendParmsParameters.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_bids2legacym" class="md-nav__link">
    xASL_imp_BIDS2Legacy.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_basicparameterchecksm" class="md-nav__link">
    xASL_imp_BasicParameterChecks.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_catcherrorsm" class="md-nav__link">
    xASL_imp_CatchErrors.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_checkdirectoriesandpermissionsm" class="md-nav__link">
    xASL_imp_CheckDirectoriesAndPermissions.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_checkimportsettingsm" class="md-nav__link">
    xASL_imp_CheckImportSettings.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_completebids2legacym" class="md-nav__link">
    xASL_imp_CompleteBIDS2Legacy.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_createsummaryfilem" class="md-nav__link">
    xASL_imp_CreateSummaryFile.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_dcm2niim" class="md-nav__link">
    xASL_imp_DCM2NII.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_dcm2nii_checkiffmem" class="md-nav__link">
    xASL_imp_DCM2NII_CheckIfFME.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_dcm2nii_convertscanm" class="md-nav__link">
    xASL_imp_DCM2NII_ConvertScan.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_dcm2nii_reordertimeencodedm" class="md-nav__link">
    xASL_imp_DCM2NII_ReorderTimeEncoded.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_dcm2nii_sanitychecksm" class="md-nav__link">
    xASL_imp_DCM2NII_SanityChecks.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_dcm2nii_subjectm" class="md-nav__link">
    xASL_imp_DCM2NII_Subject.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_dcm2nii_subject_sortaslvolumesm" class="md-nav__link">
    xASL_imp_DCM2NII_Subject_SortASLVolumes.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_dcm2nii_subject_startconversionm" class="md-nav__link">
    xASL_imp_DCM2NII_Subject_StartConversion.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_dcm2nii_subject_storejsonm" class="md-nav__link">
    xASL_imp_DCM2NII_Subject_StoreJSON.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_defacem" class="md-nav__link">
    xASL_imp_Deface.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_determinestructurefromsourcedatam" class="md-nav__link">
    xASL_imp_DetermineStructureFromSourcedata.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_determinesubjectstructurem" class="md-nav__link">
    xASL_imp_DetermineSubjectStructure.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_importinitializationm" class="md-nav__link">
    xASL_imp_ImportInitialization.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_initializem" class="md-nav__link">
    xASL_imp_Initialize.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_nii2bidsm" class="md-nav__link">
    xASL_imp_NII2BIDS.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_nii2bids_runm" class="md-nav__link">
    xASL_imp_NII2BIDS_Run.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_nii2bids_runanatm" class="md-nav__link">
    xASL_imp_NII2BIDS_RunAnat.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_nii2bids_runperfm" class="md-nav__link">
    xASL_imp_NII2BIDS_RunPerf.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_nii2bids_subjectm" class="md-nav__link">
    xASL_imp_NII2BIDS_Subject.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_nii2bids_subject_definem0typem" class="md-nav__link">
    xASL_imp_NII2BIDS_Subject_DefineM0Type.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_preallocateglobalcountsm" class="md-nav__link">
    xASL_imp_PreallocateGlobalCounts.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_readsourcedatam" class="md-nav__link">
    xASL_imp_ReadSourceData.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_tokenbackwardscompatibilitym" class="md-nav__link">
    xASL_imp_TokenBackwardsCompatibility.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_updatedatasetrootm" class="md-nav__link">
    xASL_imp_UpdateDatasetRoot.m
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Structural_Module/" class="md-nav__link">
        Module Structural
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ASL_Module/" class="md-nav__link">
        Module ASL
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Population_Module/" class="md-nav__link">
        Module Population
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Functions/" class="md-nav__link">
        Functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../SPMxASL/" class="md-nav__link">
        SPM xASL Functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ProcessingParameters/" class="md-nav__link">
        Processing Parameters (dataPar.json)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../FAQ/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Requirements/" class="md-nav__link">
        Requirements
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Changes/" class="md-nav__link">
        Change Log
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../License/" class="md-nav__link">
        License
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../About/" class="md-nav__link">
        About
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#xasl_bids_addgeneratedbyfieldm" class="md-nav__link">
    xASL_bids_AddGeneratedByField.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_bids_bids2legacym" class="md-nav__link">
    xASL_bids_BIDS2Legacy.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_bids_bids2legacy_compilepathsforcopyingm" class="md-nav__link">
    xASL_bids_BIDS2Legacy_CompilePathsForCopying.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_bids_bids2legacy_managesidecarsm" class="md-nav__link">
    xASL_bids_BIDS2Legacy_ManageSidecars.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_bids_bids2legacy_parsemodalitym" class="md-nav__link">
    xASL_bids_BIDS2Legacy_ParseModality.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_bids_bids2legacy_parsescantypem" class="md-nav__link">
    xASL_bids_BIDS2Legacy_ParseScanType.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_bids_bids2xasl_copyfilem" class="md-nav__link">
    xASL_bids_BIDS2xASL_CopyFile.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_appendniftiparametersm" class="md-nav__link">
    xASL_imp_AppendNiftiParameters.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_appendparmsparametersm" class="md-nav__link">
    xASL_imp_AppendParmsParameters.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_bids2legacym" class="md-nav__link">
    xASL_imp_BIDS2Legacy.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_basicparameterchecksm" class="md-nav__link">
    xASL_imp_BasicParameterChecks.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_catcherrorsm" class="md-nav__link">
    xASL_imp_CatchErrors.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_checkdirectoriesandpermissionsm" class="md-nav__link">
    xASL_imp_CheckDirectoriesAndPermissions.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_checkimportsettingsm" class="md-nav__link">
    xASL_imp_CheckImportSettings.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_completebids2legacym" class="md-nav__link">
    xASL_imp_CompleteBIDS2Legacy.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_createsummaryfilem" class="md-nav__link">
    xASL_imp_CreateSummaryFile.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_dcm2niim" class="md-nav__link">
    xASL_imp_DCM2NII.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_dcm2nii_checkiffmem" class="md-nav__link">
    xASL_imp_DCM2NII_CheckIfFME.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_dcm2nii_convertscanm" class="md-nav__link">
    xASL_imp_DCM2NII_ConvertScan.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_dcm2nii_reordertimeencodedm" class="md-nav__link">
    xASL_imp_DCM2NII_ReorderTimeEncoded.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_dcm2nii_sanitychecksm" class="md-nav__link">
    xASL_imp_DCM2NII_SanityChecks.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_dcm2nii_subjectm" class="md-nav__link">
    xASL_imp_DCM2NII_Subject.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_dcm2nii_subject_sortaslvolumesm" class="md-nav__link">
    xASL_imp_DCM2NII_Subject_SortASLVolumes.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_dcm2nii_subject_startconversionm" class="md-nav__link">
    xASL_imp_DCM2NII_Subject_StartConversion.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_dcm2nii_subject_storejsonm" class="md-nav__link">
    xASL_imp_DCM2NII_Subject_StoreJSON.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_defacem" class="md-nav__link">
    xASL_imp_Deface.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_determinestructurefromsourcedatam" class="md-nav__link">
    xASL_imp_DetermineStructureFromSourcedata.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_determinesubjectstructurem" class="md-nav__link">
    xASL_imp_DetermineSubjectStructure.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_importinitializationm" class="md-nav__link">
    xASL_imp_ImportInitialization.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_initializem" class="md-nav__link">
    xASL_imp_Initialize.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_nii2bidsm" class="md-nav__link">
    xASL_imp_NII2BIDS.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_nii2bids_runm" class="md-nav__link">
    xASL_imp_NII2BIDS_Run.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_nii2bids_runanatm" class="md-nav__link">
    xASL_imp_NII2BIDS_RunAnat.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_nii2bids_runperfm" class="md-nav__link">
    xASL_imp_NII2BIDS_RunPerf.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_nii2bids_subjectm" class="md-nav__link">
    xASL_imp_NII2BIDS_Subject.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_nii2bids_subject_definem0typem" class="md-nav__link">
    xASL_imp_NII2BIDS_Subject_DefineM0Type.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_preallocateglobalcountsm" class="md-nav__link">
    xASL_imp_PreallocateGlobalCounts.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_readsourcedatam" class="md-nav__link">
    xASL_imp_ReadSourceData.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_tokenbackwardscompatibilitym" class="md-nav__link">
    xASL_imp_TokenBackwardsCompatibility.m
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xasl_imp_updatedatasetrootm" class="md-nav__link">
    xASL_imp_UpdateDatasetRoot.m
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
<a href="https://github.com/ExploreASL/Documentation/edit/master/docs/Import_Module.md" title="Edit this page" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>


<h1 id="submodules-of-the-import-module">Submodules of the Import Module</h1>
<hr />
<h3 id="xasl_bids_addgeneratedbyfieldm">xASL_bids_AddGeneratedByField.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">xASL_bids_AddGeneratedByField(x, pathJSONin[, pathJSONout])
</code></pre>
<p><strong>Description:</strong></p>
<p>Add the generated by field to the struct.</p>
<hr />
<h3 id="xasl_bids_bids2legacym">xASL_bids_BIDS2Legacy.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">[x] = xASL_bids_BIDS2Legacy(x[, bOverwrite])
</code></pre>
<p><strong>Description:</strong></p>
<p>This function converts BIDS rawdata (in pathStudy/rawdata/)
to xASL legacy derivative format (e.g. pathStudy/derivatives/ExploreASL/)</p>
<p>Can be updated step-by-step when ExploreASL's derivative structure moves to BIDS
NB: ask how Visits/session layer is defined in bids-matlab (should be
separate layer within subjects, but now isn't?)</p>
<p>This function performs the following steps:</p>
<ol>
<li>Parse a folder using bids-matlab</li>
<li>Define SubjectSession</li>
<li>Define Session</li>
<li>Parse modality</li>
<li>Parse scantype</li>
<li>Compile paths for copying</li>
<li>Manage sidecars to copy</li>
<li>Copy files</li>
<li>Parse M0</li>
<li>Clean up</li>
</ol>
<hr />
<h3 id="xasl_bids_bids2legacy_compilepathsforcopyingm">xASL_bids_BIDS2Legacy_CompilePathsForCopying.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">[bidsPar, TypeIs, pathOrig, pathDest] = xASL_bids_BIDS2Legacy_CompilePathsForCopying(bidsPar, TypeIs, ModalityIs, RunIs, iSubjSess, BIDS, TypeRunIndex, ModalityFields, pathLegacy_SubjectVisit)
</code></pre>
<p><strong>Description:</strong></p>
<p>Compile paths for BIDS to Legacy copying.</p>
<hr />
<h3 id="xasl_bids_bids2legacy_managesidecarsm">xASL_bids_BIDS2Legacy_ManageSidecars.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">[bidsPar, pathOrig, pathDest, TypeIs] = xASL_bids_BIDS2Legacy_ManageSidecars(bidsPar, pathOrig, pathDest, TypeIs)
</code></pre>
<p><strong>Description:</strong></p>
<p>Manage JSON sidecars for BIDS2Legacy conversion.</p>
<hr />
<h3 id="xasl_bids_bids2legacy_parsemodalitym">xASL_bids_BIDS2Legacy_ParseModality.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">xASL_bids_BIDS2Legacy_ParseModality(BIDS, bidsPar, SubjectVisit, iSubjSess, ModalitiesUnique, nModalities, bOverwrite, pathLegacy_SubjectVisit)
</code></pre>
<p><strong>Description:</strong></p>
<p>Parse modality for BIDS to Legacy conversion.</p>
<hr />
<h3 id="xasl_bids_bids2legacy_parsescantypem">xASL_bids_BIDS2Legacy_ParseScanType.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">xASL_bids_BIDS2Legacy_ParseScanType(modalityConfiguration, SubjectVisit, RunsUnique, RunsAre, bOverwrite, Reference, bidsPar, ModalityIs, iSubjSess, BIDS, ModalityFields, pathLegacy_SubjectVisit)
</code></pre>
<p><strong>Description:</strong></p>
<p>Parse scan type during BIDS to Legacy conversion.</p>
<hr />
<h3 id="xasl_bids_bids2xasl_copyfilem">xASL_bids_BIDS2xASL_CopyFile.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">xASL_bids_BIDS2xASL_CopyFile(pathOrig, pathDest, bOverwrite)
</code></pre>
<p><strong>Description:</strong></p>
<p>Copy files for BIDS to Legacy conversion.</p>
<hr />
<h3 id="xasl_imp_appendniftiparametersm">xASL_imp_AppendNiftiParameters.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">s = xASL_imp_AppendNiftiParameters(nii_files)
</code></pre>
<p><strong>Description:</strong></p>
<p>Append Nifti Parameters.</p>
<hr />
<h3 id="xasl_imp_appendparmsparametersm">xASL_imp_AppendParmsParameters.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">[s, FieldNames] = xASL_imp_AppendParmsParameters(parms)
</code></pre>
<p><strong>Description:</strong></p>
<p>Append Parms Parameters.</p>
<hr />
<h3 id="xasl_imp_bids2legacym">xASL_imp_BIDS2Legacy.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">[x] = xASL_imp_BIDS2Legacy(x);
</code></pre>
<p><strong>Description:</strong></p>
<p>BIDS to Legacy conversion script which calls xASL_bids_BIDS2Legacy.</p>
<ol>
<li>Input check</li>
<li>Start with checking dataset_description.json &amp; rawdata</li>
<li>
<ol>
<li>The input is dataset_description.json in the rawdata folder</li>
</ol>
</li>
<li>
<ol>
<li>The input is dataPar.json or sourceStructure.json - have to look for a rawdata folder</li>
</ol>
</li>
<li>Run the legacy conversion: Check if a dataPar is provided, otherwise use the defaults</li>
</ol>
<hr />
<h3 id="xasl_imp_basicparameterchecksm">xASL_imp_BasicParameterChecks.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">x = xASL_imp_BasicParameterChecks(x)
</code></pre>
<p><strong>Description:</strong></p>
<p>Basic parameter checks for the import pipeline.</p>
<ul>
<li>check that x.dir.DatasetRoot is correct</li>
<li>determine x.dir.sourceStructure</li>
<li>determine x.dir.studyPar</li>
<li>check x.opts.ImportModules</li>
<li>set the defaults for ...</li>
<li>x.modules.import.settings.bCopySingleDicoms</li>
<li>x.modules.import.settings.bUseDCMTK</li>
<li>x.modules.import.settings.bCheckPermissions</li>
</ul>
<hr />
<h3 id="xasl_imp_catcherrorsm">xASL_imp_CatchErrors.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">[dcm2niiCatchedErrors] = xASL_imp_CatchErrors(WarningID, WarningMessage, WarningLine, WarningFileName, WarningPath, scan_name, scanpath, destdir, dcm2niiCatchedErrors, imPar, StackIn)
</code></pre>
<p><strong>Description:</strong></p>
<p>Catch reported warnings/errors, print them if verbose, &amp; add them to a structure of warnings/errors to be stored for later QC.</p>
<hr />
<h3 id="xasl_imp_checkdirectoriesandpermissionsm">xASL_imp_CheckDirectoriesAndPermissions.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">[x] = xASL_imp_CheckDirectoriesAndPermissions(x)
</code></pre>
<p><strong>Description:</strong></p>
<p>Check directories and permissions.</p>
<ul>
<li>Check if the RawRoot exists</li>
<li>Search for temp, derivatives, source and sourcedata</li>
<li>Raise error if not a single directory exists</li>
<li>Check the access rights for temp and rawdata</li>
<li>DCMTK &amp; DicomInfo realted settings</li>
</ul>
<hr />
<h3 id="xasl_imp_checkimportsettingsm">xASL_imp_CheckImportSettings.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">[x] = xASL_imp_CheckImportSettings(x)
</code></pre>
<p><strong>Description:</strong></p>
<p>Basic import checks before execution.</p>
<ul>
<li>Check permissions for DCM2NII</li>
<li>Get correct DCMNII version</li>
<li>Define DCM Extension Filter</li>
<li>Set default for skip subjects option</li>
</ul>
<hr />
<h3 id="xasl_imp_completebids2legacym">xASL_imp_CompleteBIDS2Legacy.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">x = xASL_imp_CompleteBIDS2Legacy(x)
</code></pre>
<p><strong>Description:</strong></p>
<p>Finish the remaining import steps, which are not done for each subject individually.</p>
<ol>
<li>Create dataPar.json</li>
<li>Copy participants.tsv</li>
<li>Copy dataset_description JSON and add 'GeneratedBy' fields</li>
<li>Add missing fields</li>
</ol>
<hr />
<h3 id="xasl_imp_createsummaryfilem">xASL_imp_CreateSummaryFile.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">xASL_imp_CreateSummaryFile(thisSubject, imPar, PrintDICOMFields, x)
</code></pre>
<p><strong>Description:</strong></p>
<p>Create summary file.</p>
<ol>
<li>Create summary file</li>
<li>Report totals</li>
</ol>
<p>For the detailed description of the overview sub-structure (thisSubject &amp; thisVisit)
please check out the description within xASL_imp_DetermineSubjectStructure.</p>
<hr />
<h3 id="xasl_imp_dcm2niim">xASL_imp_DCM2NII.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">x = xASL_imp_DCM2NII(x, imPar)
</code></pre>
<p><strong>Description:</strong></p>
<p>Run the dcm2nii part of the import.</p>
<ol>
<li>Initialize defaults of dcm2nii</li>
<li>Create the temp directory for DCM2NII</li>
<li>Import visit by visit, session by session, scan by scan for current subject</li>
<li>Create summary file</li>
<li>Clean-up</li>
</ol>
<hr />
<h3 id="xasl_imp_dcm2nii_checkiffmem">xASL_imp_DCM2NII_CheckIfFME.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">[resultJSON, bTimeEncoded, bTimeEncodedFME] = xASL_imp_DCM2NII_CheckIfFME(nii_files, bTimeEncoded, bTimeEncodedFME)
</code></pre>
<p><strong>Description:</strong></p>
<p>Check if the current sequence is a FME (Fraunhofer Mevis) time encoded sequence.</p>
<hr />
<h3 id="xasl_imp_dcm2nii_convertscanm">xASL_imp_DCM2NII_ConvertScan.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">[x,imPar,thisSubject,dcm2niiCatchedErrors,PrintDICOMFields] = xASL_imp_DCM2NII_ConvertScan(x,imPar,matches,thisSubject,dcm2niiCatchedErrors,thisVisit,thisRun,scanFields)
</code></pre>
<p><strong>Description:</strong></p>
<p>Run DCM2NII for one individual scan.</p>
<ol>
<li>Iterate over scans</li>
<li>
<ol>
<li>Initialize variables (scanID, summary_line, first_match)</li>
</ol>
</li>
<li>
<ol>
<li>Convert scan ID to a suitable name and set scan-specific parameters</li>
</ol>
</li>
<li>
<ol>
<li>Minimalistic feedback of where we are</li>
</ol>
</li>
<li>
<ol>
<li>Now pick the matching one from the folder list</li>
</ol>
</li>
<li>
<ol>
<li>Determine input and output paths</li>
</ol>
</li>
<li>
<ol>
<li>Start the conversion if this scan should not be skipped</li>
</ol>
</li>
<li>
<ol>
<li>Store JSON files</li>
</ol>
</li>
<li>
<ol>
<li>In case of a single NII ASL file loaded from PAR/REC, we need to shuffle the dynamics from CCCC...LLLL order to CLCLCLCL... order</li>
</ol>
</li>
<li>9  Copy single dicom as QC placeholder</li>
<li>
<ol>
<li>Store the summary info so it can be sorted and printed below</li>
</ol>
</li>
</ol>
<hr />
<h3 id="xasl_imp_dcm2nii_reordertimeencodedm">xASL_imp_DCM2NII_ReorderTimeEncoded.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">xASL_imp_DCM2NII_ReorderTimeEncoded(nii_files, bTimeEncoded, resultJSON)
</code></pre>
<p><strong>Description:</strong></p>
<p>Reorder TEs and PLDs accordingly for time encoded sequences.</p>
<hr />
<h3 id="xasl_imp_dcm2nii_sanitychecksm">xASL_imp_DCM2NII_SanityChecks.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">xASL_imp_DCM2NII_SanityChecks(x)
</code></pre>
<p><strong>Description:</strong></p>
<p>Sanity check for missing elements.</p>
<hr />
<h3 id="xasl_imp_dcm2nii_subjectm">xASL_imp_DCM2NII_Subject.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">[x, imPar, PrintDICOMFields, dcm2niiCatchedErrors] = xASL_imp_DCM2NII_Subject(x, imPar, matches, dcm2niiCatchedErrors)
</code></pre>
<p><strong>Description:</strong></p>
<p>Run DCM2NII for one individual subject.</p>
<ol>
<li>Run DCM2NII for one individual subject</li>
<li>Iterate over visits</li>
<li>Loop through all sessions</li>
<li>Iterate over scans</li>
</ol>
<hr />
<h3 id="xasl_imp_dcm2nii_subject_sortaslvolumesm">xASL_imp_DCM2NII_Subject_SortASLVolumes.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">[x, nii_files, summary_line, globalCounts, ASLContext] = xASL_imp_DCM2NII_Subject_SortASLVolumes(x, globalCounts, scanpath, scan_name, nii_files, iSubject, iVisit, iSession, iScan)
</code></pre>
<p><strong>Description:</strong></p>
<p>Sort ASL Volumes.</p>
<ol>
<li>Fallbacks</li>
<li>Fill NIfTI Table</li>
<li>Get ASL context if possible</li>
<li>Only try shuffling if you dont know the ASL context already</li>
<li>Merge NIfTIs if there are multiples for ASL or M0, merge multiple files</li>
<li>Extract relevant parameters from nifti header and append to summary file</li>
</ol>
<hr />
<h3 id="xasl_imp_dcm2nii_subject_startconversionm">xASL_imp_DCM2NII_Subject_StartConversion.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">[imPar, globalCounts, x, summary_line, destdir, scanpath, scan_name, dcm2niiCatchedErrors, nii_files, first_match] = xASL_imp_DCM2NII_Subject_StartConversion(imPar, globalCounts, x, bSkipThisOne, summary_line, destdir, scanpath, scan_name, dcm2niiCatchedErrors)
</code></pre>
<p><strong>Description:</strong></p>
<p>Start of DCM2NII subject conversion.</p>
<hr />
<h3 id="xasl_imp_dcm2nii_subject_storejsonm">xASL_imp_DCM2NII_Subject_StoreJSON.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">[parms, pathDcmDict] = xASL_imp_DCM2NII_Subject_StoreJSON(imPar, SavePathJSON, first_match, bUseDCMTK, pathDcmDict)
</code></pre>
<p><strong>Description:</strong></p>
<p>Store JSON.</p>
<hr />
<h3 id="xasl_imp_defacem">xASL_imp_Deface.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">xASL_imp_Deface(x, imPar)
</code></pre>
<p><strong>Description:</strong></p>
<p>Run defacing.</p>
<ol>
<li>Iterate over list of subjects</li>
<li>Get subject labels</li>
<li>Process all anatomical files (<code>xASL\_spm\_deface</code>)</li>
</ol>
<hr />
<h3 id="xasl_imp_determinestructurefromsourcedatam">xASL_imp_DetermineStructureFromSourcedata.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">[x] = xASL_imp_DetermineStructureFromSourcedata(x)
</code></pre>
<p><strong>Description:</strong></p>
<p>Determine structure from sourcedata.</p>
<hr />
<h3 id="xasl_imp_determinesubjectstructurem">xASL_imp_DetermineSubjectStructure.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">x = xASL_imp_DetermineSubjectStructure(x)
</code></pre>
<p><strong>Description:</strong></p>
<p>Determine subject/session/run structure from sourcedata or temp data.</p>
<p>The main goal is to create a sub-structure of x called x.overview.
x.overview does include a separate field for each subject.
Each subject has visit fields and visits have run fields.
All of this is used to track the number of subjects, number of visits, number of runs,
number of scans, etc. reliably. Within later parts of the pipeline it is also possible
to extract the current subject, current visit or current run to determine the part of
a population/subject/visit/run we're working on right now. We mostly used the variables
thisSubject, thisVisit, etc. for that.</p>
<hr />
<h3 id="xasl_imp_importinitializationm">xASL_imp_ImportInitialization.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">x = xASL_imp_ImportInitialization(x)
</code></pre>
<p><strong>Description:</strong></p>
<p>Initialization before xASL_module_Import.</p>
<hr />
<h3 id="xasl_imp_initializem">xASL_imp_Initialize.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">imPar = xASL_imp_Initialize(studyPath, imParPath)
</code></pre>
<p><strong>Description:</strong></p>
<p>Initialize DCM2NII.</p>
<ol>
<li>Read study file</li>
<li>Specify paths</li>
<li>Finalize the directories</li>
<li>Specify the tokens</li>
<li>Specify the additional details of the conversion</li>
</ol>
<hr />
<h3 id="xasl_imp_nii2bidsm">xASL_imp_NII2BIDS.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">x = xASL_imp_NII2BIDS(x, imPar, studyPath, studyParPath)
</code></pre>
<p><strong>Description:</strong></p>
<p>Run the NII2BIDS conversion.</p>
<ol>
<li>Load the study parameters + dataset description</li>
<li>Create the study description output and verify that all is there</li>
<li>Go through all subjects and check all the M0 and ASLs and modify the JSONs</li>
</ol>
<hr />
<h3 id="xasl_imp_nii2bids_runm">xASL_imp_NII2BIDS_Run.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">x = xASL_imp_NII2BIDS_Run(x, imPar, bidsPar, studyPar, listRuns, nameSubjectSession, bidsLabel, iRun)
</code></pre>
<p><strong>Description:</strong></p>
<p>NII2BIDS conversion for a single run.</p>
<ol>
<li>Make a subject directory with a correct session name</li>
<li>Convert structural and ASL runs</li>
</ol>
<hr />
<h3 id="xasl_imp_nii2bids_runanatm">xASL_imp_NII2BIDS_RunAnat.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">xASL_imp_NII2BIDS_RunAnat(bidsPar, studyPar, subjectSessionLabel, outSessionPath, listRuns, iRun, nameSubjectSession)
</code></pre>
<p><strong>Description:</strong></p>
<p>NII2BIDS conversion for a single sessions, single run.</p>
<hr />
<h3 id="xasl_imp_nii2bids_runperfm">xASL_imp_NII2BIDS_RunPerf.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">xASL_imp_NII2BIDS_RunPerf(imPar, bidsPar, studyPar, subjectSessionLabel, inSessionPath, outSessionPath, listRuns, iRun)
</code></pre>
<p><strong>Description:</strong></p>
<p>NII2BIDS conversion for a single sessions, single run.</p>
<ol>
<li>Define the pathnames</li>
<li>Load the JSONs and NIfTI information</li>
<li>BIDSify ASL</li>
<li>Prepare the link to M0 in ASL.json</li>
<li>BIDSify M0</li>
<li>Save all ASL files (JSON, NIFTI, CONTEXT) to the BIDS directory</li>
</ol>
<hr />
<h3 id="xasl_imp_nii2bids_subjectm">xASL_imp_NII2BIDS_Subject.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">x = xASL_imp_NII2BIDS_Subject(x, imPar, bidsPar, studyPar, nameSubjectSession)
</code></pre>
<p><strong>Description:</strong></p>
<p>Run NII to ASL-BIDS for one individual subject.</p>
<ol>
<li>Initialize</li>
<li>Process the anat &amp; perfusion files</li>
<li>
<ol>
<li>Make a subject directory</li>
</ol>
</li>
<li>
<ol>
<li>Iterate over sessions</li>
</ol>
</li>
<li>
<ol>
<li>Iterate over runs</li>
</ol>
</li>
</ol>
<hr />
<h3 id="xasl_imp_nii2bids_subject_definem0typem">xASL_imp_NII2BIDS_Subject_DefineM0Type.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">[jsonLocal, bJsonLocalM0isFile] = xASL_imp_NII2BIDS_Subject_DefineM0Type(studyPar, bidsPar, jsonLocal, pathM0, linkM0prefix)
</code></pre>
<p><strong>Description:</strong></p>
<p>Define M0 Type</p>
<hr />
<h3 id="xasl_imp_preallocateglobalcountsm">xASL_imp_PreallocateGlobalCounts.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">x = xASL_imp_PreallocateGlobalCounts(x)
</code></pre>
<p><strong>Description:</strong></p>
<p>Preallocate space for (global) counts.</p>
<hr />
<h3 id="xasl_imp_readsourcedatam">xASL_imp_ReadSourceData.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">x = xASL_imp_ReadSourceData(x)
</code></pre>
<p><strong>Description:</strong></p>
<p>Read source data.</p>
<hr />
<h3 id="xasl_imp_tokenbackwardscompatibilitym">xASL_imp_TokenBackwardsCompatibility.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">imPar = xASL_imp_TokenBackwardsCompatibility(imPar)
</code></pre>
<p><strong>Description:</strong></p>
<p>Fix the token backwards compatibility.</p>
<hr />
<h3 id="xasl_imp_updatedatasetrootm">xASL_imp_UpdateDatasetRoot.m</h3>
<p><strong>Format:</strong></p>
<pre><code class="language-matlab">x = xASL_imp_UpdateDatasetRoot(x)
</code></pre>
<p><strong>Description:</strong></p>
<p>Update x.opts.DatasetRoot to dataset_description.json after NII2BIDS conversion</p>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../Modules/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Modules" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Modules
            </div>
          </div>
        </a>
      
      
        
        <a href="../Structural_Module/" class="md-footer__link md-footer__link--next" aria-label="Next: Module Structural" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Module Structural
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.expand"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.22074ed6.min.js", "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.960e086b.min.js"></script>
      
    
  </body>
</html>